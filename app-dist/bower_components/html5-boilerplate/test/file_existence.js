function checkFiles(directory,expectedFiles){var files=require("glob").sync("**/*",{cwd:directory,dot:!0,mark:!0});expectedFiles.forEach(function(file){var ok=!1,expectedFileType="/"!==file.slice(-1)?"regular file":"directory";-1!==files.indexOf(file)&&(ok="/"!==file.slice(-1)?fs.statSync(path.resolve(directory,file)).isFile():"/"===files[files.indexOf(file)].slice(-1)),it('"'+file+'" should be present and it should be a '+expectedFileType,function(){assert.equal(!0,ok)})}),files.filter(function(file){return-1===expectedFiles.indexOf(file)}).forEach(function(file){it('"'+file+'" should NOT be present',function(){assert(!1)})})}function runTests(){describe("Test if all the expected files, and only them, are present in the build directories",function(){describe(dirs.archive,function(){checkFiles(dirs.archive,expectedFilesInArchiveDir)}),describe(dirs.dist,function(){checkFiles(dirs.dist,expectedFilesInDistDir)})})}var assert=require("assert"),fs=require("fs"),path=require("path"),pkg=require("./../package.json"),dirs=pkg["h5bp-configs"].directories,expectedFilesInArchiveDir=[pkg.name+"_v"+pkg.version+".zip"],expectedFilesInDistDir=[".editorconfig",".gitattributes",".gitignore",".htaccess","404.html","apple-touch-icon.png","browserconfig.xml","crossdomain.xml","css/","css/main.css","css/normalize.css","doc/","doc/TOC.md","doc/css.md","doc/extend.md","doc/faq.md","doc/html.md","doc/js.md","doc/misc.md","doc/usage.md","favicon.ico","humans.txt","img/","img/.gitignore","index.html","js/","js/main.js","js/plugins.js","js/vendor/","js/vendor/jquery-"+pkg.devDependencies.jquery+".min.js","js/vendor/modernizr-2.8.3.min.js","LICENSE.txt","robots.txt","tile-wide.png","tile.png"];runTests();